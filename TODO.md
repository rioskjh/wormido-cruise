# Wormi Cruise 서버 이전 후 작업 TODO 목록

## 📋 **현재 상태**
- ✅ 서버 이전 완료 (Supabase → PostgreSQL)
- ✅ 이미지 마이그레이션 완료 (Vercel Blob → 로컬 서버)
- ✅ Next.js 애플리케이션 배포 완료
- ✅ PM2 프로세스 관리 설정 완료
- ✅ Nginx 설정 및 SSL 인증서 적용 완료

---

## 🎯 **즉시 확인 필요 (High Priority)**

### 1. 웹사이트 전체 기능 테스트
- **상태**: ⏳ 대기
- **내용**: 로고, 레이아웃, 네비게이션이 정상 작동하는지 확인
- **확인 항목**:
  - [ ] 메인 페이지 로고 표시
  - [ ] 네비게이션 메뉴 정상 작동
  - [ ] 페이지 레이아웃 깨짐 없음
  - [ ] JavaScript 파일 정상 로드

### 2. 모든 페이지에서 이미지 로딩 테스트
- **상태**: ⏳ 대기
- **내용**: 상품 이미지, 갤러리 등이 정상 표시되는지 확인
- **확인 항목**:
  - [ ] 상품 목록 페이지 이미지
  - [ ] 상품 상세 페이지 이미지
  - [ ] 갤러리 페이지 이미지
  - [ ] 관리자 업로드 이미지

### 3. 관리자 패널 기능 테스트
- **상태**: ⏳ 대기
- **내용**: 로그인, 상품 관리, 이미지 업로드가 정상 작동하는지 확인
- **확인 항목**:
  - [ ] 관리자 로그인
  - [ ] 상품 등록/수정/삭제
  - [ ] 이미지 업로드 기능
  - [ ] 예약 관리 기능

---

## 🔧 **핵심 기능 테스트 (Medium Priority)**

### 4. 예약 시스템 전체 플로우 테스트
- **상태**: ⏳ 대기
- **내용**: 고객이 예약을 완료할 수 있는지 확인
- **확인 항목**:
  - [ ] 상품 선택
  - [ ] 예약 정보 입력
  - [ ] 결제 프로세스
  - [ ] 예약 확정 이메일

### 5. 데이터베이스 연결 및 데이터 정합성 확인
- **상태**: ⏳ 대기
- **내용**: 모든 데이터가 정상적으로 이전되었는지 확인
- **확인 항목**:
  - [ ] 회원 데이터
  - [ ] 상품 데이터
  - [ ] 예약 데이터
  - [ ] 게시판 데이터

### 6. 결제 시스템 연동 테스트
- **상태**: ⏳ 대기
- **내용**: 이니시스 결제가 정상 작동하는지 확인
- **확인 항목**:
  - [ ] 결제 요청
  - [ ] 결제 승인
  - [ ] 결제 실패 처리
  - [ ] 환불 처리

---

## 🛡️ **보안 및 안정성 (Medium Priority)**

### 7. SSL 인증서 정상 작동 확인
- **상태**: ⏳ 대기
- **내용**: HTTPS 연결이 안전하게 작동하는지 확인
- **확인 항목**:
  - [ ] HTTPS 리다이렉트
  - [ ] SSL 인증서 유효성
  - [ ] 보안 헤더 설정

### 8. Nginx 설정 최종 검증 및 최적화
- **상태**: ⏳ 대기
- **내용**: 성능과 보안 설정 최적화
- **확인 항목**:
  - [ ] 정적 파일 서빙 최적화
  - [ ] Gzip 압축 설정
  - [ ] 보안 헤더 추가
  - [ ] Rate Limiting 설정

### 9. 서버 모니터링 및 로그 관리 설정
- **상태**: ⏳ 대기
- **내용**: 문제 발생 시 빠른 대응을 위한 모니터링
- **확인 항목**:
  - [ ] PM2 로그 설정
  - [ ] Nginx 로그 설정
  - [ ] 시스템 리소스 모니터링
  - [ ] 에러 알림 설정

---

## ⚡ **성능 및 최적화 (Low Priority)**

### 10. 웹사이트 성능 최적화
- **상태**: ⏳ 대기
- **내용**: 로딩 속도, 캐싱 전략 개선
- **확인 항목**:
  - [ ] 이미지 최적화
  - [ ] CSS/JS 번들 최적화
  - [ ] 브라우저 캐싱 설정
  - [ ] CDN 설정 검토

### 11. 데이터베이스 및 파일 백업 전략 수립
- **상태**: ⏳ 대기
- **내용**: 데이터 손실 방지
- **확인 항목**:
  - [ ] 자동 데이터베이스 백업
  - [ ] 이미지 파일 백업
  - [ ] 백업 복원 테스트
  - [ ] 백업 스토리지 설정

### 12. 서버 보안 강화
- **상태**: ⏳ 대기
- **내용**: 방화벽, 접근 권한 등 보안 설정
- **확인 항목**:
  - [ ] 방화벽 설정
  - [ ] SSH 보안 설정
  - [ ] 파일 권한 설정
  - [ ] 보안 업데이트

---

## 🌐 **호환성 및 접근성 (Low Priority)**

### 13. 도메인 및 DNS 설정 최종 확인
- **상태**: ⏳ 대기
- **내용**: 도메인 연결 상태 점검
- **확인 항목**:
  - [ ] DNS 설정 확인
  - [ ] 도메인 연결 테스트
  - [ ] 서브도메인 설정

### 14. 모바일 반응형 디자인 테스트
- **상태**: ⏳ 대기
- **내용**: 모바일에서 정상 작동하는지 확인
- **확인 항목**:
  - [ ] 모바일 레이아웃
  - [ ] 터치 인터페이스
  - [ ] 모바일 결제
  - [ ] 반응형 이미지

### 15. 다양한 브라우저에서 호환성 테스트
- **상태**: ⏳ 대기
- **내용**: 크롬, 파이어폭스, 사파리 등에서 테스트
- **확인 항목**:
  - [ ] Chrome 테스트
  - [ ] Firefox 테스트
  - [ ] Safari 테스트
  - [ ] Edge 테스트

---

## 📊 **진행 상황 요약**

- **완료**: 0개
- **진행 중**: 0개
- **대기**: 15개
- **취소**: 0개

---

## 📝 **작업 기록**

### 2024-12-19
- 서버 이전 작업 완료
- 이미지 마이그레이션 완료
- Next.js 애플리케이션 배포 완료
- PM2 프로세스 관리 설정 완료
- Nginx 설정 및 SSL 인증서 적용 완료
- Prisma Client 바이너리 타겟 문제 해결 (관리자 로그인 오류 수정)
- 관리자 파일 업로드 시스템을 로컬 서버로 변경 완료

---

## 🚀 **다음 단계**

1. **웹사이트 전체 기능 테스트**부터 시작
2. 각 항목별로 체계적인 테스트 진행
3. 문제 발견 시 즉시 수정 및 문서화
4. 모든 테스트 완료 후 운영 환경 최적화

---

## 📁 **파일 업로드 시스템 구조**

### 새로운 폴더 구조
```
/public/images/
├── product/     # 상품 이미지
├── board/       # 게시판 첨부파일
├── content/     # 컨텐츠 이미지
├── popup/       # 팝업 이미지
└── ckeditor/    # CKEditor 업로드 파일
    └── files/   # CKEditor 일반 파일
```

### 수정된 API 엔드포인트
1. **상품 이미지**: `/api/admin/products/[id]/images` → `/images/product/` 폴더
2. **게시판 첨부파일**: `/api/admin/posts/[id]/files` → `/images/board/` 폴더
3. **CKEditor 업로드**: `/api/admin/upload/ckeditor` → `/images/ckeditor/` 폴더
4. **컨텐츠 이미지**: `/api/admin/upload/content` → `/images/content/` 폴더
5. **팝업 이미지**: `/api/admin/upload/popup` → `/images/popup/` 폴더

### 주요 변경사항
- ✅ Vercel Blob 의존성 제거
- ✅ 모든 파일 업로드를 로컬 서버로 변경
- ✅ 목적별 폴더 구조로 정리
- ✅ 파일명 충돌 방지를 위한 타임스탬프 추가
- ✅ 파일 크기 및 확장자 검증 유지

---

**마지막 업데이트**: 2024-12-19
**작성자**: AI Assistant
**프로젝트**: Wormi Cruise (월미도 크루즈 예약 시스템)
